<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Registro</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body class="auth-body">
    <div class="auth-box">
        <h2>Crear Cuenta</h2>
        <input type="text" id="regUser" placeholder="Nombre" />
        <input type="password" id="regPass" placeholder="Contraseña" />
        <button id="regBtn">Registrar</button>
        <a href="login.html">Iniciar sesión</a>
    </div>

<script>
document.getElementById('regBtn').addEventListener('click', () => {
    const u = document.getElementById("regUser").value;
    const p = document.getElementById("regPass").value;
    if (!u || !p) return alert("Completa todos los campos");

    fetch('/register', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username: u, password: p })
    }).then(res => res.json())
      .then(data => {
          if (data.success) {
              alert("Cuenta creada. Ahora inicia sesión.");
              window.location.href = 'login.html';
          } else {
              alert(data.msg);
          }
      });
});
</script>
</body>
</html>
